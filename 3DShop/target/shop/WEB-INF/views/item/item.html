<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Item name</title>
    <link rel="stylesheet" type="text/css" href="/resources/static/css/styles.css">
</head>
<body style="margin: 0">
    <div class="page" style="margin: 0">
        <header th:insert="~{other/fragments :: header}"></header>

        <main style="margin-left: 17%; margin-right: 17%;">
            <div class="item_window">
                <div style="position: relative; background: #d4790a; width: 35%">

<!--                    <img src="/resources/static/images/test_image.jpg" width="100%" height="400px"> -->

                    <img id="main_product_image" src="/resources/static/images/test_image.jpg" width="100%" height="400px">

                    <div style="position: relative; background: #c5e384; width: 430px; height: 120px; top: 10px; left: 10px; display: flex; overflow: auto">

                        <div th:each="link, iStat : ${_links}">

                            <span id="index" th:text="${iStat.index}"></span>
                            <span id="current_img" th:text="${link}"></span>
                            <input type="image" th:src="${link}" alt="miniature" th:onclick="'imgSrc(\'' + ${iStat.index} + '\');'" style="width: 80px; height: 80px; margin: 3px">

                        </div>

                    </div>
                </div>

                <div style="position: relative; background: #d4790a; width: 30%">
                    <span id="debug" th:text="test"></span>
                    <span id="debug2" th:text="test"></span>
                </div>

                <div style="position: relative; background: #d4790a; width: 24%">

                </div>
            </div>
        </main>

        <footer th:insert="~{other/fragments :: footer}" style="margin-top: auto;" ></footer>

        <script language="JavaScript">

            var mainImage = document.getElementById("main_product_image");
            var selectedImage = document.getElementById("current_img");
            var index = document.getElementById("index")

            var debug = document.getElementById("debug");
            var debug2 = document.getElementById("debug2");

            var floorplanSettings = "@Model.links";

//            var value = @Model._links;

            function imgSrc(link)
            {
                mainImage.src = selectedImage.innerHTML;
                debug.innerHTML = selectedImage.innerHTML;
//                debug2.innerHTML = value;
            }

        </script>
    </div>
</body>
</html>